You can read tutorial https://www.jeejava.com/spring-security-pre-authentication-example/